!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("ReactMarkdownEditor",["react","react-dom"],e):"object"==typeof exports?exports.ReactMarkdownEditor=e(require("react"),require("react-dom")):t.ReactMarkdownEditor=e(t._,t._)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=27)}([function(t,e,n){var r=n(13);r.serverMode="object"!=typeof window,r.connect=n(47),r.connectFilter=n(48),r.ListenerMixin=n(14),r.listenTo=n(50),r.listenToMany=n(51),n(46),t.exports=r},function(t,e,n){"use strict";function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function i(t,n){return(n=n||"on")+e.capitalize(t)}function o(t){var e=void 0===t?"undefined":h(t);return"function"===e||"object"===e&&!!t}function s(t){if(!o(t))return t;for(var e,n,r,i=1,s=arguments.length;i<s;i++){e=arguments[i],n=Object.keys(e);for(var a=0;a<n.length;a++)if(r=n[a],Object.getOwnPropertyDescriptor&&Object.defineProperty){var l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,l)}else t[r]=e[r]}return t}function a(t){return"function"==typeof t}function l(t){setTimeout(t,0)}function c(t,e){for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n}function u(t){return"object"===(void 0===t?"undefined":h(t))&&"callee"in t&&"number"==typeof t.length}function f(t,e){if(t)throw Error(e||t)}Object.defineProperty(e,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.capitalize=r,e.callbackName=i,e.isObject=o,e.extend=s,e.isFunction=a,e.nextTick=l,e.object=c,e.isArguments=u,e.throwIf=f,e.EventEmitter=n(36)},function(e,n){e.exports=t},function(t,e,n){"use strict";var r=n(0),i=r.createActions(["clearSelection","clickEditorTab","clickPreviewTab","makeBold","makeImage","makeItalic","makeLink","makeList","makeHeader","makeSubHeader","makeUnderline","setSelection"]);t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinStrict=e.joinConcat=e.joinLeading=e.joinTrailing=e.fetchInitialState=e.stopListeningToAll=e.stopListeningTo=e.listenTo=e.validateListening=e.listenToMany=e.hasListener=void 0;var r=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),o=n(24),s=function(t){for(var e,n=0,r={};n<(t.children||[]).length;++n)e=t.children[n],t[e]&&(r[e]=t[e]);return r},a=function t(e){var n={};for(var r in e){var o=e[r],a=s(o),l=t(a);n[r]=o;for(var c in l){var u=l[c];n[r+i.capitalize(c)]=u}}return n};e.hasListener=function(t){for(var e,n,r,i=0;i<(this.subscriptions||[]).length;++i)for(r=[].concat(this.subscriptions[i].listenable),e=0;e<r.length;e++)if((n=r[e])===t||n.hasListener&&n.hasListener(t))return!0;return!1},e.listenToMany=function(t){var e=a(t);for(var n in e){var r=i.callbackName(n),o=this[r]?r:this[n]?n:void 0;o&&this.listenTo(e[n],o,this[r+"Default"]||this[o+"Default"]||o)}},e.validateListening=function(t){return t===this?"Listener is not able to listen to itself":i.isFunction(t.listen)?t.hasListener&&t.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:t+" is missing a listen method"},e.listenTo=function(t,e,n){var r,o,s,a=this.subscriptions=this.subscriptions||[];return i.throwIf(this.validateListening(t)),this.fetchInitialState(t,n),r=t.listen(this[e]||e,this),o=function(){var t=a.indexOf(s);i.throwIf(-1===t,"Tried to remove listen already gone from subscriptions list!"),a.splice(t,1),r()},s={stop:o,listenable:t},a.push(s),s},e.stopListeningTo=function(t){for(var e,n=0,r=this.subscriptions||[];n<r.length;n++)if(e=r[n],e.listenable===t)return e.stop(),i.throwIf(-1!==r.indexOf(e),"Failed to remove listen from subscriptions list!"),!0;return!1},e.stopListeningToAll=function(){for(var t,e=this.subscriptions||[];t=e.length;)e[0].stop(),i.throwIf(e.length!==t-1,"Failed to remove listen from subscriptions list!")},e.fetchInitialState=function(t,e){e=e&&this[e]||e;var n=this;if(i.isFunction(e)&&i.isFunction(t.getInitialState)){var r=t.getInitialState();r&&i.isFunction(r.then)?r.then(function(){e.apply(n,arguments)}):e.call(this,r)}},e.joinTrailing=(0,o.instanceJoinCreator)("last"),e.joinLeading=(0,o.instanceJoinCreator)("first"),e.joinConcat=(0,o.instanceJoinCreator)("all"),e.joinStrict=(0,o.instanceJoinCreator)("strict")},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,l=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)o.call(n,u)&&(l[u]=n[u]);if(i){a=i(n);for(var f=0;f<a.length;f++)s.call(n,a[f])&&(l[a[f]]=n[a[f]])}}return l}},function(t,n){t.exports=e},function(t,e,n){"use strict";var r=n(2),i=n(35);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;t.exports=i(r.Component,r.isValidElement,o)},function(t,e,n){t.exports=n(41)()},function(t,e,n){"use strict";var r=n(0),i=r.createActions(["selectionCleared","selectionSet"]);t.exports=i},function(t,e,n){"use strict";var r=n(0),i=r.createActions(["updateText"]);t.exports=i},function(t,e,n){"use strict";function r(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a=t}function i(t){a&&l.push(t)}function o(t){a&&c.push(t)}function s(){for(;l.length;)l.pop();for(;c.length;)c.pop()}Object.defineProperty(e,"__esModule",{value:!0});var a=!1,l=[],c=[];e.useKeep=r,e.addStore=i,e.addAction=o,e.createdStores=l,e.createdActions=c,e.reset=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deferWith=e.triggerAsync=e.trigger=e.listen=e.shouldEmit=e.preEmit=void 0;var r=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r);e.preEmit=function(){},e.shouldEmit=function(){return!0},e.listen=function(t,e){e=e||this;var n=function(n){i||t.apply(e,n)},r=this,i=!1;return this.emitter.addListener(this.eventLabel,n),function(){i=!0,r.emitter.removeListener(r.eventLabel,n)}},e.trigger=function(){var t=arguments,e=this.preEmit.apply(this,t);t=void 0===e?t:i.isArguments(e)?e:[].concat(e),this.shouldEmit.apply(this,t)&&this.emitter.emit(this.eventLabel,t)},e.triggerAsync=function(){var t=arguments,e=this;i.nextTick(function(){e.trigger.apply(e,t)})},e.deferWith=function(t){var e=this.trigger,n=this,r=function(){e.apply(n,arguments)};this.trigger=function(){t.apply(n,[r].concat([].splice.call(arguments,0)))}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){y.EventEmitter=t}function o(t){y.nextTick=t}function s(t){t(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.__keep=e.joinConcat=e.joinStrict=e.joinLeading=e.all=e.joinTrailing=e.use=e.nextTick=e.setEventEmitter=e.createActions=e.createStore=e.createAction=e.utils=e.StoreMethods=e.PublisherMethods=e.ListenerMethods=e.ActionMethods=e.version=void 0;var a=n(21),l=r(a),c=n(4),u=r(c),f=n(12),h=r(f),p=n(22),d=r(p),g=n(24),v=n(1),y=r(v),b=n(44),m=n(23),_=n(11),k=r(_),w={"reflux-core":"1.0.0"},x=(0,g.staticJoinCreator)("last"),E=x,S=(0,g.staticJoinCreator)("first"),M=(0,g.staticJoinCreator)("strict"),T=(0,g.staticJoinCreator)("all"),j=y,O=function(){var t=function(t,e){Object.keys(t).forEach(function(n){var r=t[n];e[n]=(0,b.createAction)(r)})};return function(e){var n={};return e instanceof Array?e.forEach(function(e){y.isObject(e)?t(e,n):n[e]=(0,b.createAction)(e)}):t(e,n),n}}();e.version=w,e.ActionMethods=l,e.ListenerMethods=u,e.PublisherMethods=h,e.StoreMethods=d,e.utils=j,e.createAction=b.createAction,e.createStore=m.createStore,e.createActions=O,e.setEventEmitter=i,e.nextTick=o,e.use=s,e.joinTrailing=x,e.all=E,e.joinLeading=S,e.joinStrict=M,e.joinConcat=T,e.__keep=k,Object.defineProperty(e,"default",{get:function(){return e}}),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5")},function(t,e,n){var r=n(1),i=n(4);t.exports=r.extend({componentWillUnmount:i.stopListeningToAll},i)},function(t,e,n){"use strict";var r=n(2),i=(n(6),{iconsProviderName:null,setIconsProvider:function(t){this.iconsProviderName=t},isFontAwesome:function(){return"font-awesome"===this.iconsProviderName},getStyleMarkdownBtn:function(){return{flex:"1",maxWidth:"50px",border:"1px solid #ddd",backgroundColor:"white",borderRadius:"4px",margin:"0 2px",padding:"2px 3px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"}},getBoldButton:function(t,e){var n=this.getStyleMarkdownBtn();return this.isFontAwesome()?this.getButtonFontAwesomeIcon(t,e,n,"fa-bold","bold-btn"):this.getButtonMaterializeIcon(t,e,n,"format_bold","bold-btn")},getButtonMaterializeIcon:function(t,e,n,i,o){return r.createElement("div",{role:"button",className:o,style:n,disabled:t,onClick:e},r.createElement("i",{className:"material-icons"},i))},getButtonFontAwesomeIcon:function(t,e,n,i,o){var s="fa "+i;return r.createElement("div",{role:"button",className:o,style:n,disabled:t,onClick:e},r.createElement("i",{className:s}))},getButtonWithoutIcon:function(t,e,n,i){var o={display:"flex",minWidth:"50px",border:"1px solid #ddd",color:"black",backgroundColor:"white",borderRadius:"4px",margin:"0 2px",padding:"2px 3px",cursor:"pointer",textAlign:"center",justifyContent:"flex-end",alignItems:"center"};return r.createElement("div",{role:"button",style:o,className:n,disabled:t,onClick:e},r.createElement("span",null,i))},getItalicButton:function(t,e){if(this.isFontAwesome()){var n=this.getStyleMarkdownBtn();return this.getButtonFontAwesomeIcon(t,e,n,"fa-italic","italic-btn")}var n=this.getStyleMarkdownBtn();return this.getButtonMaterializeIcon(t,e,n,"format_italic","italic-btn")},getMakeListButton:function(t,e){if(this.isFontAwesome()){var n=this.getStyleMarkdownBtn();return this.getButtonFontAwesomeIcon(t,e,n,"fa-list-ul","list-btn")}var n=this.getStyleMarkdownBtn();return this.getButtonMaterializeIcon(t,e,n,"format_list_bulleted","list-btn")},getImageButton:function(t,e){if(this.isFontAwesome()){var n=this.getStyleMarkdownBtn();return this.getButtonFontAwesomeIcon(t,e,n,"fa-file-image-o","insert-img-btn")}var n=this.getStyleMarkdownBtn();return this.getButtonMaterializeIcon(t,e,n,"insert_photo","insert-img-btn")},getLinkButton:function(t,e){if(this.isFontAwesome()){var n=this.getStyleMarkdownBtn();return this.getButtonFontAwesomeIcon(t,e,n,"fa-link","insert-link-btn")}var n=this.getStyleMarkdownBtn();return this.getButtonMaterializeIcon(t,e,n,"insert_link","insert-link-btn")}});t.exports=i},function(t,e,n){"use strict";var r=n(0),i=n(3),o=r.createStore({init:function(){this.listenTo(i.clickPreviewTab,this.handleClickPreviewTab),this.listenTo(i.clickEditorTab,this.handleClickEditorTab)},handleClickPreviewTab:function(){this.trigger({activeTab:1})},handleClickEditorTab:function(){this.trigger({activeTab:0})}});t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n(9),o=r.createStore({init:function(){this.listenTo(i.selectionSet,this.handleSelectionSet),this.listenTo(i.selectionCleared,this.handleSelectionCleared)},handleSelectionCleared:function(){this.trigger({type:"clear"})},handleSelectionSet:function(){this.trigger({type:"set"})}});t.exports=o},function(t,e,n){"use strict";var r=function(t){return t.replace(/[\n\r]/g,"  \n")};t.exports={toMarkdown:r}},function(t,e,n){"use strict";function r(t,e,n,r,o,s,a,l){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,s,a,l],f=0;c=new Error(e.replace(/%s/g,function(){return u[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(t){};t.exports=r},function(t,e,n){e.markdown=n(39),e.parse=e.markdown.toHTML},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){function e(){var e,n=0;if(this.subscriptions=[],this.emitter=new s.EventEmitter,this.eventLabel="change",(0,u.bindMethods)(this,t),this.init&&s.isFunction(this.init)&&this.init(),this.listenables)for(e=[].concat(this.listenables);n<e.length;n++)this.listenToMany(e[n])}t=t||{};for(var n in h)if(!y[n]&&(d[n]||v[n]))throw new Error("Cannot override API method "+n+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var r in t)if(!y[r]&&(d[r]||v[r]))throw new Error("Cannot override API method "+r+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");t=(0,c.mix)(t),s.extend(e.prototype,v,d,h,t);var i=new e;return l.addStore(i),i}Object.defineProperty(e,"__esModule",{value:!0}),e.createStore=i;var o=n(1),s=r(o),a=n(11),l=r(a),c=n(45),u=n(43),f=n(22),h=r(f),p=n(12),d=r(p),g=n(4),v=r(g),y={preEmit:1,shouldEmit:1}},function(t,e,n){"use strict";function r(t){return function(){var e=h.call(arguments);return(0,c.createStore)({init:function(){this[p[t]].apply(this,e.concat("triggerAsync"))}})}}function i(t){return function(){f.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");var e,n,r=h.call(arguments),i=r.pop(),l=r.length,c={numberOfListenables:l,callback:this[i]||i,listener:this,strategy:t},u=[];for(e=0;e<l;e++)f.throwIf(this.validateListening(r[e]));for(e=0;e<l;e++)u.push(r[e].listen(a(e,c),this));return s(c),n={listenable:r},n.stop=o(n,u,this),this.subscriptions=(this.subscriptions||[]).concat(n),n}}function o(t,e,n){return function(){var r,i=n.subscriptions,o=i?i.indexOf(t):-1;for(f.throwIf(-1===o,"Tried to remove join already gone from subscriptions list!"),r=0;r<e.length;r++)e[r]();i.splice(o,1)}}function s(t){t.listenablesEmitted=new Array(t.numberOfListenables),t.args=new Array(t.numberOfListenables)}function a(t,e){return function(){var n=h.call(arguments);if(e.listenablesEmitted[t])switch(e.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":e.args[t]=n;break;case"all":e.args[t].push(n)}else e.listenablesEmitted[t]=!0,e.args[t]="all"===e.strategy?[n]:n;l(e)}}function l(t){for(var e=0;e<t.numberOfListenables;e++)if(!t.listenablesEmitted[e])return;t.callback.apply(t.listener,t.args),s(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.staticJoinCreator=r,e.instanceJoinCreator=i;var c=n(23),u=n(1),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),h=Array.prototype.slice,p={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"}},function(t,e,n){"use strict";var r=n(2),i=(n(6),n(0)),o=n(8),s=n(7),a=(n(20).markdown,n(3),n(10)),l=(n(9),n(32),n(15),n(33)),c=(n(17),n(16)),u=n(34),f=n(18),h=n(29),p=n(31),d=n(28),g=n(30),v=n(5),y=u.NullMarkdownToken,b=u.RegularMarkdownToken,m=u.HeaderMarkdownToken,_=u.SubHeaderMarkdownToken,k=u.UrlMarkdownToken,w=u.ListMarkdownToken,x=u.ImageMarkdownToken,E=s({mixins:[i.ListenerMixin],propTypes:{initialContent:o.string.isRequired,iconsSet:o.oneOf(["font-awesome","materialize-ui"]).isRequired,onContentChange:o.func,editorTabs:o.bool},getInitialState:function(){var t=Math.random().toString(36).substring(7);return{content:this.props.initialContent,inEditMode:!0,instanceRef:t}},render:function(){var t,e;this.state.inEditMode?(t=r.createElement(d,{styles:{styleMarkdownTextArea:this.props.styles.styleMarkdownTextArea},content:this.state.content,onChangeHandler:this.onChangeHandler}),!1!==this.props.editorTabs&&(e=r.createElement(h,{styles:{styleMarkdownMenu:this.props.styles.styleMarkdownMenu},iconsSet:this.props.iconsSet,instanceRef:this.state.instanceRef}))):(t=r.createElement(g,{styles:{styleMarkdownPreviewArea:this.props.styles.styleMarkdownPreviewArea},content:this.state.content}),e=null);var n=v({},E.defaultProps.styles.styleMarkdownEditorHeader,this.props.styles.styleMarkdownEditorHeader),i=v({},E.defaultProps.styles.styleMarkdownEditorContainer,this.props.styles.styleMarkdownEditorContainer);return r.createElement("div",{style:i},r.createElement("div",{style:n,className:"md-editor-header"},e,r.createElement(p,{styles:{styleMarkdownEditorTabs:this.props.styles.styleMarkdownEditorTabs,styleTab:this.props.styles.styleTab,styleActiveTab:this.props.styles.styleActiveTab}})),t)},onChangeHandler:function(t){this.props.onContentChange&&this.props.onContentChange(t),this.setState({content:t})},componentDidMount:function(){this.listenTo(l,this.handleMarkdowEditorStoreUpdated),this.listenTo(c,this.handleMDEditorTabsInteractionStoreUpdated)},handleMarkdowEditorStoreUpdated:function(t){var e=t.currentSelection;null!=e&&t.instanceRef===this.state.instanceRef&&this.updateText(this.state.content,e,t.action)},handleMDEditorTabsInteractionStoreUpdated:function(t){if(null!=t.activeTab){var e=0===t.activeTab;this.setState({inEditMode:e})}},updateText:function(t,e,n){var r=this.generateMarkdownToken(n),i=t.slice(0,e.selectionStart),o=t.slice(e.selectionEnd,t.length),s=r.applyTokenTo(e.selectedText),l=i+s+o;a.updateText(f.toMarkdown(l)),this.setState({content:l}),this.props.onContentChange&&this.props.onContentChange(l)},generateMarkdownToken:function(t){switch(t){case"bold":return new b("**",!0);case"italic":return new b("_",!0);case"header":return new m;case"subheader":return new _;case"link":return new k;case"list":return new w;case"image":return new x;default:return new y}}});E.defaultProps={styles:{styleMarkdownEditorHeader:{display:"flex",flexDirection:"column",borderBottom:"1px solid #ddd",marginLeft:"0px",marginRight:"0px",minHeight:"50px",justifyContent:"center",position:"relative"},styleMarkdownEditorContainer:{display:"flex",flexDirection:"column",marginTop:"2px",paddingTop:"10px",border:"1px solid #ddd",backgroundColor:"#f7f7f7"},styleMarkdownMenu:{margin:"5px 0",flex:"1",display:"flex",position:"absolute",right:"20px",top:"10px"}}},t.exports=E},function(t,e,n){"use strict";var r=n(0),i=n(10),o=r.createStore({init:function(){this.listenTo(i.updateText,this.onUpdateText)},onUpdateText:function(t){this.trigger({content:t})}});t.exports=o},function(t,e,n){"use strict";t.exports={MarkdownEditor:n(25),MarkdownEditorContentStore:n(26)}},function(t,e,n){"use strict";var r,i=n(2),o=(n(6),n(0)),s=n(8),a=n(7),l=n(18),c=n(3),u=n(10),f=n(5),h=a({propTypes:{content:s.string.isRequired,onChangeHandler:s.func.isRequired},mixins:[o.ListenerMixin],getInitialState:function(){return{canClear:!0}},clearSelection:function(){this.state.canClear&&c.clearSelection()},bindSelectEvent:function(t){t.addEventListener("select",this.onSelectHandler)},componentDidMount:function(){var t=this.textAreaElement;t&&(this.bindSelectEvent(t),t.value=this.props.content)},componentWillUpdate:function(){var t=this.textAreaElement;t&&this.unbindSelectEvent(t)},componentDidUpdate:function(){var t=this.textAreaElement;t&&(this.bindSelectEvent(t),t.value=this.props.content)},unbindSelectEvent:function(t){t.removeEventListener("select",this.onSelectHandler)},componentWillUnmount:function(){var t=this.textAreaElement;t&&this.unbindSelectEvent(t)},onSelectHandler:function(t){var e=this._getEventSource(t),n=e.selectionStart,r=e.selectionEnd,i=e.value.slice(n,r),o={selectionStart:n,selectionEnd:r,selectedText:i};c.setSelection(o),this._preventClearSelectionAfterSelectIfNeeded(t)},_getEventSource:function(t){return t.srcElement||t.target},_preventClearSelectionAfterSelectIfNeeded:function(t){null!==t.target&&(this.setState({canClear:!1}),r=setTimeout(function(){this.setState({canClear:!0}),r=null}.bind(this),100))},render:function(){var t=this,e=f(h.defaultProps.styles.styleMarkdownTextArea,this.props.styles.styleMarkdownTextArea);return i.createElement("textarea",{ref:function(e){t.textAreaElement=e},className:"md-editor-textarea",style:e,onChange:this.onChange,onClick:this.clearSelection,onKeyUp:this.clearSelection})},onChange:function(){var t=this.textAreaElement.value,e=l.toMarkdown(t);u.updateText(e),this.props.onChangeHandler(t.replace(/[\n\r]/g,"\n"))}});h.defaultProps={styles:{styleMarkdownTextArea:{height:"90%",width:"100%",padding:"30px 10px",border:"none"}}},t.exports=h},function(t,e,n){"use strict";var r=n(2),i=(n(6),n(0)),o=n(7),s=n(15),a=n(17),l=n(3),c=n(8),u=n(5),f=o({mixins:[i.ListenerMixin,s],propTypes:{iconsSet:c.string.isRequired},getInitialState:function(){return{enabled:!1}},componentWillMount:function(){this.listenTo(a,this.handleMarkdownSelectionStore),this.setIconsProvider(this.props.iconsSet)},render:function(){var t=this.state.enabled?"":"disabled",e=this.getBoldButton(t,this.handleBoldButtonClick),n=this.getItalicButton(t,this.handleItalicButtonClick),i=this.getMakeListButton(t,this.handleListButtonClick),o=this.getImageButton(t,this.handleImageButtonClick),s=this.getLinkButton(t,this.handleLinkButtonClick),a=this.getButtonWithoutIcon(t,this.handleHeaderButtonClick,"md-editor-menu-header","Header"),l=this.getButtonWithoutIcon(t,this.handleSubHeaderButtonClick,"md-editor-menu-subheader","Subheader"),c=u({},f.defaultProps.styles.styleMarkdownMenu,this.props.styles.styleMarkdownMenu);return r.createElement("div",{style:c,className:"md-editor-menu"},e,n,a,l,i,o,s)},handleMarkdownSelectionStore:function(t){"clear"===t.type?this.setState({enabled:!1}):"set"===t.type&&this.setState({enabled:!0})},handleBoldButtonClick:function(){l.makeBold(this.props.instanceRef)},handleImageButtonClick:function(){l.makeImage(this.props.instanceRef)},handleItalicButtonClick:function(){l.makeItalic(this.props.instanceRef)},handleUnderlineButtonClick:function(){l.makeUnderline(this.props.instanceRef)},handleHeaderButtonClick:function(){l.makeHeader(this.props.instanceRef)},handleSubHeaderButtonClick:function(){l.makeSubHeader(this.props.instanceRef)},handleLinkButtonClick:function(){l.makeLink(this.props.instanceRef)},handleListButtonClick:function(){l.makeList(this.props.instanceRef)}});f.defaultProps={styles:{styleMarkdownMenu:{margin:"5px 0",flex:"1",display:"flex",position:"absolute",right:"20px",top:"10px"}}},f.displayName="MarkdownEditorMenu",t.exports=f},function(t,e,n){"use strict";var r=n(2),i=(n(6),n(8)),o=n(7),s=n(20).markdown,a=n(5),l=o({propTypes:{content:i.string.isRequired},render:function(){var t=this.props.content.replace(/[\n]/g,"  \n");t=s.toHTML(t);var e=a(l.defaultProps.styles.styleMarkdownPreviewArea,this.props.styles.styleMarkdownPreviewArea);return r.createElement("div",{style:e,dangerouslySetInnerHTML:{__html:t}})}});l.defaultProps={styles:{styleMarkdownPreviewArea:{height:"90%",width:"100%",padding:"30px 10px",backgroundColor:"#fff",border:"none"}}},t.exports=l},function(t,e,n){"use strict";var r=n(2),i=(n(6),n(0)),o=n(7),s=n(3),a=n(16),l=n(5),c=o({mixins:[i.ListenerMixin],getInitialState:function(){return{activeTab:0}},componentWillMount:function(){this.listenTo(a,this.handleMDEditorTabsInteractionStoreUpdated)},handleMDEditorTabsInteractionStoreUpdated:function(t){null!=t.activeTab&&this.setState({activeTab:t.activeTab})},render:function(){var t,e,n=l({},c.defaultProps.styles.styleActiveTab,this.props.styles.styleActiveTab),i=l({},c.defaultProps.styles.styleMarkdownEditorTabs,this.props.styles.styleMarkdownEditorTabs),o=l({},c.defaultProps.styles.styleTab,this.props.styles.styleTab);return 0===this.state.activeTab?(t=n,e=o):1===this.state.activeTab&&(e=n,t=o),r.createElement("div",{style:i,className:"md-editor-tabs"},r.createElement("div",{style:t,className:"md-editor-tabs-item",onClick:this.handleClick.bind(this,"clickEditorTab")},r.createElement("span",null,"Editor")),r.createElement("div",{style:e,className:"md-editor-tabs-item",onClick:this.handleClick.bind(this,"clickPreviewTab")},r.createElement("span",null,"Preview")))},handleClick:function(t){s[t]()}});c.defaultProps={styles:{styleMarkdownEditorTabs:{border:"none",display:"flex",justifyContent:"flex-start"},styleTab:{padding:"0px 20px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:"50px"},styleActiveTab:{padding:"0px 20px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:"50px",borderLeft:"1px solid #ddd",borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",backgroundColor:"#fff",borderRadius:"3px"}}},c.displayName="MarkdownEditorTabs",t.exports=c},function(t,e,n){"use strict";var r=(n(3),n(0)),i={mixins:[r.ListenerMixin]};t.exports=i},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(9),s=r.createStore({init:function(){this.currentSelection=null,this.listenTo(i.makeBold,this.handleMakeBold),this.listenTo(i.makeItalic,this.handleMakeItalic),this.listenTo(i.makeHeader,this.handleMakeHeader),this.listenTo(i.makeSubHeader,this.handleMakeSubHeader),this.listenTo(i.makeImage,this.handleMakeImage),this.listenTo(i.makeLink,this.handleMakeLink),this.listenTo(i.makeList,this.handleMakeList),this.listenTo(i.makeUnderline,this.handleMakeUnderline),this.listenTo(i.clearSelection,this.handleClearSelection),this.listenTo(i.setSelection,this.handleSetSelection)},handleMakeBold:function(t){this.trigger({action:"bold",currentSelection:this.currentSelection,instanceRef:t})},handleMakeItalic:function(t){this.trigger({action:"italic",currentSelection:this.currentSelection,instanceRef:t})},handleMakeLink:function(t){this.trigger({action:"link",currentSelection:this.currentSelection,instanceRef:t})},handleMakeUnderline:function(t){this.trigger({action:"underline",currentSelection:this.currentSelection,instanceRef:t})},handleMakeHeader:function(t){this.trigger({action:"header",currentSelection:this.currentSelection,instanceRef:t})},handleMakeSubHeader:function(t){this.trigger({action:"subheader",currentSelection:this.currentSelection,instanceRef:t})},handleMakeList:function(t){this.trigger({action:"list",currentSelection:this.currentSelection,instanceRef:t})},handleMakeImage:function(t){this.trigger({action:"image",currentSelection:this.currentSelection,instanceRef:t})},handleClearSelection:function(){this.currentSelection=null,o.selectionCleared()},handleSetSelection:function(t){this.currentSelection=t,o.selectionSet()}});t.exports=s},function(t,e,n){"use strict";var r=function(t,e){this.token=t,this.isSymetric=e};r.prototype.applyTokenTo=function(t){var e=this.token;return e+=t,this.isSymetric&&(e+=this.token),e};var i=function(){r.call(this,"",!1)};i.prototype=Object.create(r.prototype),i.prototype.applyTokenTo=function(t){return t};var o=function(t){r.call(this,t||"##",!1)};o.prototype=Object.create(r.prototype),o.prototype.applyTokenTo=function(t){return"\n"+this.token+" "+t+"\n"};var s=function(){o.call(this,"###",!1)};s.prototype=Object.create(o.prototype);var a=function(){r.call(this,null,!1)};a.prototype=Object.create(r.prototype),a.prototype.applyTokenTo=function(t){return"["+t+"]("+t+")"};var l=function(){r.call(this,null,!1)};l.prototype=Object.create(r.prototype),l.prototype.applyTokenTo=function(t){return t.split("\n").reduce(function(t,e){return t+"+ "+e+"\n"},"\n")+"\n"};var c=function(){r.call(this,null,!1)};c.prototype=Object.create(r.prototype),c.prototype.applyTokenTo=function(t){return"!["+t+"]("+t+")"},t.exports={RegularMarkdownToken:r,NullMarkdownToken:i,HeaderMarkdownToken:o,SubHeaderMarkdownToken:s,UrlMarkdownToken:a,ListMarkdownToken:l,ImageMarkdownToken:c}},function(t,e,n){"use strict";function r(t){return t}function i(t,e,n){function i(t,e){var n=b.hasOwnProperty(e)?b[e]:null;x.hasOwnProperty(e)&&a("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&a("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function c(t,n){if(n){a("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=t.prototype,o=r.__reactAutoBindPairs;n.hasOwnProperty(l)&&_.mixins(t,n.mixins);for(var s in n)if(n.hasOwnProperty(s)&&s!==l){var c=n[s],u=r.hasOwnProperty(s);if(i(u,s),_.hasOwnProperty(s))_[s](t,c);else{var f=b.hasOwnProperty(s),d="function"==typeof c,g=d&&!f&&!u&&!1!==n.autobind;if(g)o.push(s,c),r[s]=c;else if(u){var v=b[s];a(f&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,s),"DEFINE_MANY_MERGED"===v?r[s]=h(r[s],c):"DEFINE_MANY"===v&&(r[s]=p(r[s],c))}else r[s]=c}}}else;}function u(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in _;a(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in t;if(o){var s=m.hasOwnProperty(n)?m[n]:null;return a("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(t[n]=h(t[n],r))}t[n]=r}}}function f(t,e){a(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(a(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function h(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return f(i,n),f(i,r),i}}function p(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function d(t,e){var n=e.bind(t);return n}function g(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=d(t,i)}}function v(t){var e=r(function(t,r,i){this.__reactAutoBindPairs.length&&g(this),this.props=t,this.context=r,this.refs=s,this.updater=i||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;a("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=o});e.prototype=new E,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],y.forEach(c.bind(null,e)),c(e,k),c(e,t),c(e,w),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),a(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in b)e.prototype[i]||(e.prototype[i]=null);return e}var y=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},m={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},_={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)c(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=o({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=o({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=h(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=o({},t.propTypes,e)},statics:function(t,e){u(t,e)},autobind:function(){}},k={componentDidMount:function(){this.__isMounted=!0}},w={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},E=function(){};return o(E.prototype,t.prototype,x),v}var o=n(5),s=n(38),a=n(19),l="mixins";t.exports=i},function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){}var o=Object.prototype.hasOwnProperty,s="function"!=typeof Object.create&&"~";i.prototype._events=void 0,i.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)o.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(t,e){var n=s?s+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},i.prototype.emit=function(t,e,n,r,i,o){var a=s?s+t:t;if(!this._events||!this._events[a])return!1;var l,c,u=this._events[a],f=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,i),!0;case 6:return u.fn.call(u.context,e,n,r,i,o),!0}for(c=1,l=new Array(f-1);c<f;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),f){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;default:if(!l)for(h=1,l=new Array(f-1);h<f;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},i.prototype.on=function(t,e,n){var i=new r(e,n||this),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},i.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},i.prototype.removeListener=function(t,e,n,r){var i=s?s+t:t;if(!this._events||!this._events[i])return this;var o=this._events[i],a=[];if(e)if(o.fn)(o.fn!==e||r&&!o.once||n&&o.context!==n)&&a.push(o);else for(var l=0,c=o.length;l<c;l++)(o[l].fn!==e||r&&!o[l].once||n&&o[l].context!==n)&&a.push(o[l]);return a.length?this._events[i]=1===a.length?a[0]:a:delete this._events[i],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[s?s+t:t]:this._events=s?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=s,t.exports=i},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){!function(t){function e(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function r(){var t=n(54);return"Markdown.mk_block( "+t.inspect(this.toString())+", "+t.inspect(this.trailing)+", "+t.inspect(this.lineNumber)+" )"}function i(t){for(var e=0,n=-1;-1!==(n=t.indexOf("\n",n+1));)e++;return e}function o(t,e){function n(t){this.len_after=t,this.name="close_"+e}var r=t+"_state",i="strong"==t?"em_state":"strong_state";return function(o,s){if(this[r][0]==e)return this[r].shift(),[o.length,new n(o.length-e.length)];var a=this[i].slice(),l=this[r].slice();this[r].unshift(e);var c=this.processInline(o.substr(e.length)),u=c[c.length-1];this[r].shift();if(u instanceof n){c.pop();return[o.length-u.len_after,[t].concat(c)]}return this[i]=a,this[r]=l,[e.length,e]}}function s(t){for(var e=t.split(""),n=[""],r=!1;e.length;){var i=e.shift();switch(i){case" ":r?n[n.length-1]+=i:n.push("");break;case"'":case'"':r=!r;break;case"\\":i=e.shift();default:n[n.length-1]+=i}}return n}function l(t){return y(t)&&t.length>1&&"object"==typeof t[1]&&!y(t[1])?t[1]:void 0}function c(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(t){if("string"==typeof t)return c(t);var e=t.shift(),n={},r=[];for(!t.length||"object"!=typeof t[0]||t[0]instanceof Array||(n=t.shift());t.length;)r.push(u(t.shift()));var i="";for(var o in n)i+=" "+o+'="'+c(n[o])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+i+"/>":"<"+e+i+">"+r.join("")+"</"+e+">"}function f(t,e,n){var r;n=n||{};var i=t.slice(0);"function"==typeof n.preprocessTreeNode&&(i=n.preprocessTreeNode(i,e));var o=l(i);if(o){i[1]={};for(r in o)i[1][r]=o[r];o=i[1]}if("string"==typeof i)return i;switch(i[0]){case"header":i[0]="h"+i[1].level,delete i[1].level;break;case"bulletlist":i[0]="ul";break;case"numberlist":i[0]="ol";break;case"listitem":i[0]="li";break;case"para":i[0]="p";break;case"markdown":i[0]="html",o&&delete o.references;break;case"code_block":i[0]="pre",r=o?2:1;var s=["code"];s.push.apply(s,i.splice(r,i.length-r)),i[r]=s;break;case"inlinecode":i[0]="code";break;case"img":i[1].src=i[1].href,delete i[1].href;break;case"linebreak":i[0]="br";break;case"link":i[0]="a";break;case"link_ref":i[0]="a";var a=e[o.ref];if(!a)return o.original;delete o.ref,o.href=a.href,a.title&&(o.title=a.title),delete o.original;break;case"img_ref":i[0]="img";var a=e[o.ref];if(!a)return o.original;delete o.ref,o.src=a.href,a.title&&(o.title=a.title),delete o.original}if(r=1,o){for(var c in i[1]){r=2;break}1===r&&i.splice(r,1)}for(;r<i.length;++r)i[r]=f(i[r],e,n);return i}function h(t){for(var e=l(t)?2:1;e<t.length;)"string"==typeof t[e]?e+1<t.length&&"string"==typeof t[e+1]?t[e]+=t.splice(e+1,1)[0]:++e:(h(t[e]),++e)}var d=t.Markdown=function(t){switch(typeof t){case"undefined":this.dialect=d.dialects.Gruber;break;case"object":this.dialect=t;break;default:if(!(t in d.dialects))throw new Error("Unknown Markdown dialect '"+String(t)+"'");this.dialect=d.dialects[t]}this.em_state=[],this.strong_state=[],this.debug_indent=""};t.parse=function(t,e){return new d(e).toTree(t)},t.toHTML=function(e,n,r){var i=t.toHTMLTree(e,n,r);return t.renderJsonML(i)},t.toHTMLTree=function(t,e,n){"string"==typeof t&&(t=this.parse(t,e));var r=l(t),i={};r&&r.references&&(i=r.references);var o=f(t,i,n);return h(o),o};var g=d.mk_block=function(t,n,i){1==arguments.length&&(n="\n\n");var o=new String(t);return o.trailing=n,o.inspect=r,o.toSource=e,void 0!=i&&(o.lineNumber=i),o};d.prototype.split_blocks=function(t,e){t=t.replace(/(\r\n|\n|\r)/g,"\n");var n,r=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,o=[],s=1;for(null!=(n=/^(\s*\n)/.exec(t))&&(s+=i(n[0]),r.lastIndex=n[0].length);null!==(n=r.exec(t));)"\n#"==n[2]&&(n[2]="\n",r.lastIndex--),o.push(g(n[1],n[2],s)),s+=i(n[0]);return o},d.prototype.processBlock=function(t,e){var n=this.dialect.block,r=n.__order__;if("__call__"in n)return n.__call__.call(this,t,e);for(var i=0;i<r.length;i++){var o=n[r[i]].call(this,t,e);if(o)return(!y(o)||o.length>0&&!y(o[0]))&&this.debug(r[i],"didn't return a proper array"),o}return[]},d.prototype.processInline=function(t){return this.dialect.inline.__call__.call(this,String(t))},d.prototype.toTree=function(t,e){var n=t instanceof Array?t:this.split_blocks(t),r=this.tree;try{for(this.tree=e||this.tree||["markdown"];n.length;){var i=this.processBlock(n.shift(),n);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{e&&(this.tree=r)}},d.prototype.debug=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,t),"undefined"!=typeof console&&void 0!==console.log&&console.log.apply(null,t)},d.prototype.loop_re_over_block=function(t,e,n){for(var r,i=e.valueOf();i.length&&null!=(r=t.exec(i));)i=i.substr(r[0].length),n.call(this,r);return i},d.dialects={},d.dialects.Gruber={block:{atxHeader:function(t,e){var n=t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(n){var r=["header",{level:n[1].length}];return Array.prototype.push.apply(r,this.processInline(n[2])),n[0].length<t.length&&e.unshift(g(t.substr(n[0].length),t.trailing,t.lineNumber+2)),[r]}},setextHeader:function(t,e){var n=t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(n){var r="="===n[2]?1:2,i=["header",{level:r},n[1]];return n[0].length<t.length&&e.unshift(g(t.substr(n[0].length),t.trailing,t.lineNumber+2)),[i]}},code:function(t,e){var n=[],r=/^(?: {0,3}\t| {4})(.*)\n?/;if(t.match(r)){t:for(;;){var i=this.loop_re_over_block(r,t.valueOf(),function(t){n.push(t[1])});if(i.length){e.unshift(g(i,t.trailing));break t}if(!e.length)break t;if(!e[0].match(r))break t;n.push(t.trailing.replace(/[^\n]/g,"").substring(2)),t=e.shift()}return[["code_block",n.join("\n")]]}},horizRule:function(t,e){var n=t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(n){var r=[["hr"]];return n[1]&&r.unshift.apply(r,this.processBlock(n[1],[])),n[3]&&e.unshift(g(n[3])),r}},lists:function(){function t(t){return new RegExp("(?:^("+l+"{0,"+t+"} {0,3})("+o+")\\s+)|(^"+l+"{0,"+(t-1)+"}[ ]{0,4})")}function e(t){return t.replace(/ {0,3}\t/g,"    ")}function n(t,e,n,r){if(e)return void t.push(["para"].concat(n));var i=t[t.length-1]instanceof Array&&"para"==t[t.length-1][0]?t[t.length-1]:t;r&&t.length>1&&n.unshift(r);for(var o=0;o<n.length;o++){var s=n[o];"string"==typeof s&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=s:i.push(s)}}function r(t,e){for(var n=new RegExp("^("+l+"{"+t+"}.*?\\n?)*$"),r=new RegExp("^"+l+"{"+t+"}","gm"),i=[];e.length>0&&n.exec(e[0]);){var o=e.shift(),s=o.replace(r,"");i.push(g(s,o.trailing,o.lineNumber))}return i}function i(t,e,n){var r=t.list,i=r[r.length-1];if(!(i[1]instanceof Array&&"para"==i[1][0]))if(e+1==n.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var o=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),o)}}var o="[*+-]|\\d+\\.",s=/[*+-]/,a=new RegExp("^( {0,3})("+o+")[ \t]+"),l="(?: {0,3}\\t| {4})";return function(o,l){function c(t){var e=s.exec(t[2])?["bulletlist"]:["numberlist"];return p.push({list:e,indent:t[1]}),e}var u=o.match(a);if(u){for(var f,h,p=[],d=c(u),g=!1,y=[p[0].list];;){for(var b=o.split(/(?=\n)/),m="",_=0;_<b.length;_++){var k="",w=b[_].replace(/^\n/,function(t){return k=t,""}),x=t(p.length);if(u=w.match(x),void 0!==u[1]){m.length&&(n(f,g,this.processInline(m),k),g=!1,m=""),u[1]=e(u[1]);var E=Math.floor(u[1].length/4)+1;if(E>p.length)d=c(u),f.push(d),f=d[1]=["listitem"];else{var S=!1;for(h=0;h<p.length;h++)if(p[h].indent==u[1]){d=p[h].list,p.splice(h+1,p.length-(h+1)),S=!0;break}S||(E++,E<=p.length?(p.splice(E,p.length-E),d=p[E-1].list):(d=c(u),f.push(d))),f=["listitem"],d.push(f)}k=""}w.length>u[0].length&&(m+=k+w.substr(u[0].length))}m.length&&(n(f,g,this.processInline(m),k),g=!1,m="");var M=r(p.length,l);M.length>0&&(v(p,i,this),f.push.apply(f,this.toTree(M,[])));var T=l[0]&&l[0].valueOf()||"";if(!T.match(a)&&!T.match(/^ /))break;o=l.shift();var j=this.dialect.block.horizRule(o,l);if(j){y.push.apply(y,j);break}v(p,i,this),g=!0}return y}}}(),blockquote:function(t,e){if(t.match(/^>/m)){var n=[];if(">"!=t[0]){for(var r=t.split(/\n/),i=[],o=t.lineNumber;r.length&&">"!=r[0][0];)i.push(r.shift()),o++;var s=g(i.join("\n"),"\n",t.lineNumber);n.push.apply(n,this.processBlock(s,[])),t=g(r.join("\n"),t.trailing,o)}for(;e.length&&">"==e[0][0];){var a=e.shift();t=g(t+t.trailing+a,a.trailing,t.lineNumber)}var c=t.replace(/^> ?/gm,""),u=(this.tree,this.toTree(c,["blockquote"])),f=l(u);return f&&f.references&&(delete f.references,b(f)&&u.splice(1,1)),n.push(u),n}},referenceDefn:function(t,e){var n=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(t.match(n)){l(this.tree)||this.tree.splice(1,0,{});var r=l(this.tree);void 0===r.references&&(r.references={});var i=this.loop_re_over_block(n,t,function(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var e=r.references[t[1].toLowerCase()]={href:t[2]};void 0!==t[4]?e.title=t[4]:void 0!==t[5]&&(e.title=t[5])});return i.length&&e.unshift(g(i,t.trailing)),[]}},para:function(t,e){return[["para"].concat(this.processInline(t))]}}},d.dialects.Gruber.inline={__oneElement__:function(t,e,n){var r,i;if(e=e||this.dialect.inline.__patterns__,!(r=new RegExp("([\\s\\S]*?)("+(e.source||e)+")").exec(t)))return[t.length,t];if(r[1])return[r[1].length,r[1]];var i;return r[2]in this.dialect.inline&&(i=this.dialect.inline[r[2]].call(this,t.substr(r.index),r,n||[])),i=i||[r[2].length,r[2]]},__call__:function(t,e){function n(t){"string"==typeof t&&"string"==typeof i[i.length-1]?i[i.length-1]+=t:i.push(t)}for(var r,i=[];t.length>0;)r=this.dialect.inline.__oneElement__.call(this,t,e,i),t=t.substr(r.shift()),v(r,n);return i},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(t){return this.dialect.inline.__escape__.exec(t)?[2,t.charAt(1)]:[1,"\\"]},"![":function(t){var e=t.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var n={alt:e[1],href:e[2]||""};return void 0!==e[4]&&(n.title=e[4]),[e[0].length,["img",n]]}return e=t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),e?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function(t){var e=String(t),n=d.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!n)return[1,"["];var r,i,o=1+n[0],s=n[1];t=t.substr(o);var a=t.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(a){var l=a[1];if(o+=a[0].length,l&&"<"==l[0]&&">"==l[l.length-1]&&(l=l.substring(1,l.length-1)),!a[3])for(var c=1,u=0;u<l.length;u++)switch(l[u]){case"(":c++;break;case")":0==--c&&(o-=l.length-u,l=l.substring(0,u))}return l=this.dialect.inline.__call__.call(this,l,/\\/)[0],i={href:l||""},void 0!==a[3]&&(i.title=a[3]),r=["link",i].concat(s),[o,r]}return a=t.match(/^\s*\[(.*?)\]/),a?(o+=a[0].length,i={ref:(a[1]||String(s)).toLowerCase(),original:e.substr(0,o)},r=["link_ref",i].concat(s),[o,r]):1==s.length&&"string"==typeof s[0]?(i={ref:s[0].toLowerCase(),original:e.substr(0,o)},r=["link_ref",i,s[0]],[o,r]):[1,"["]},"<":function(t){var e;return null!=(e=t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function(t){var e=t.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function(t){return[3,["linebreak"]]}},d.dialects.Gruber.inline["**"]=o("strong","**"),d.dialects.Gruber.inline.__=o("strong","__"),d.dialects.Gruber.inline["*"]=o("em","*"),d.dialects.Gruber.inline._=o("em","_"),d.buildBlockOrder=function(t){var e=[];for(var n in t)"__order__"!=n&&"__call__"!=n&&e.push(n);t.__order__=e},d.buildInlinePatterns=function(t){var e=[];for(var n in t)if(!n.match(/^__.*__$/)){var r=n.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");e.push(1==n.length?r:"(?:"+r+")")}e=e.join("|"),t.__patterns__=e;var i=t.__call__;t.__call__=function(t,n){return void 0!=n?i.call(this,t,n):i.call(this,t,e)}},d.DialectHelpers={},d.DialectHelpers.inline_until_char=function(t,e){for(var n=0,r=[];;){if(t.charAt(n)==e)return n++,[n,r];if(n>=t.length)return null;var i=this.dialect.inline.__oneElement__.call(this,t.substr(n));n+=i[0],r.push.apply(r,i.slice(1))}},d.subclassDialect=function(t){function e(){}function n(){}return e.prototype=t.block,n.prototype=t.inline,{block:new e,inline:new n}},d.buildBlockOrder(d.dialects.Gruber.block),d.buildInlinePatterns(d.dialects.Gruber.inline),d.dialects.Maruku=d.subclassDialect(d.dialects.Gruber),d.dialects.Maruku.processMetaHash=function(t){for(var e=s(t),n={},r=0;r<e.length;++r)if(/^#/.test(e[r]))n.id=e[r].substring(1);else if(/^\./.test(e[r]))n.class?n.class=n.class+e[r].replace(/./," "):n.class=e[r].substring(1);else if(/\=/.test(e[r])){var i=e[r].split(/\=/);n[i[0]]=i[1]}return n},d.dialects.Maruku.block.document_meta=function(t,e){if(!(t.lineNumber>1)&&t.match(/^(?:\w+:.*\n)*\w+:.*$/)){l(this.tree)||this.tree.splice(1,0,{});var n=t.split(/\n/);for(p in n){var r=n[p].match(/(\w+):\s*(.*)$/),i=r[1].toLowerCase(),o=r[2];this.tree[1][i]=o}return[]}},d.dialects.Maruku.block.block_meta=function(t,e){var n=t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(n){var r,i=this.dialect.processMetaHash(n[2]);if(""===n[1]){var o=this.tree[this.tree.length-1];if(r=l(o),"string"==typeof o)return;r||(r={},o.splice(1,0,r));for(a in i)r[a]=i[a];return[]}var s=t.replace(/\n.*$/,""),c=this.processBlock(s,[]);r=l(c[0]),r||(r={},c[0].splice(1,0,r));for(a in i)r[a]=i[a];return c}},d.dialects.Maruku.block.definition_list=function(t,e){var n,r,i=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,o=["dl"];if(r=t.match(i)){for(var s=[t];e.length&&i.exec(e[0]);)s.push(e.shift());for(var a=0;a<s.length;++a){var r=s[a].match(i),l=r[1].replace(/\n$/,"").split(/\n/),c=r[2].split(/\n:\s+/);for(n=0;n<l.length;++n)o.push(["dt",l[n]]);for(n=0;n<c.length;++n)o.push(["dd"].concat(this.processInline(c[n].replace(/(\n)\s+/,"$1"))))}return[o]}},d.dialects.Maruku.block.table=function(t,e){var n,r,i=function(t,e){e=e||"\\s",e.match(/^[\\|\[\]{}?*.+^$]$/)&&(e="\\"+e);for(var n,r=[],i=new RegExp("^((?:\\\\.|[^\\\\"+e+"])*)"+e+"(.*)");n=t.match(i);)r.push(n[1]),t=n[2];return r.push(t),r},o=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,s=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(r=t.match(o))r[3]=r[3].replace(/^\s*\|/gm,"");else if(!(r=t.match(s)))return;var a=["table",["thead",["tr"]],["tbody"]];r[2]=r[2].replace(/\|\s*$/,"").split("|");var l=[];for(v(r[2],function(t){t.match(/^\s*-+:\s*$/)?l.push({align:"right"}):t.match(/^\s*:-+\s*$/)?l.push({align:"left"}):t.match(/^\s*:-+:\s*$/)?l.push({align:"center"}):l.push({})}),r[1]=i(r[1].replace(/\|\s*$/,""),"|"),n=0;n<r[1].length;n++)a[1][1].push(["th",l[n]||{}].concat(this.processInline(r[1][n].trim())));return v(r[3].replace(/\|\s*$/gm,"").split("\n"),function(t){var e=["tr"];for(t=i(t,"|"),n=0;n<t.length;n++)e.push(["td",l[n]||{}].concat(this.processInline(t[n].trim())));a[2].push(e)},this),[a]},d.dialects.Maruku.inline["{:"]=function(t,e,n){if(!n.length)return[2,"{:"];var r=n[n.length-1];if("string"==typeof r)return[2,"{:"];var i=t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!i)return[2,"{:"];var o=this.dialect.processMetaHash(i[1]),s=l(r);s||(s={},r.splice(1,0,s));for(var a in o)s[a]=o[a];return[i[0].length,""]},d.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,d.buildBlockOrder(d.dialects.Maruku.block),d.buildInlinePatterns(d.dialects.Maruku.inline);var v,y=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)};v=Array.prototype.forEach?function(t,e,n){return t.forEach(e,n)}:function(t,e,n){for(var r=0;r<t.length;r++)e.call(n||t,t[r],r,t)};var b=function(t){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0};t.renderJsonML=function(t,e){e=e||{},e.root=e.root||!1;var n=[];if(e.root)n.push(u(t));else for(t.shift(),!t.length||"object"!=typeof t[0]||t[0]instanceof Array||t.shift();t.length;)n.push(u(t.shift()));return n.join("\n\n")}}(function(){return e}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){g&&p&&(g=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!g){var t=i(s);g=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,g=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,f,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],g=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||g||i(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(37),i=n(19),o=n(42);t.exports=function(){function t(t,e,n,r,s,a){a!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t,e){for(var n in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var r=Object.getOwnPropertyDescriptor(e,n);if(!r.value||"function"!=typeof r.value||!e.hasOwnProperty(n))continue;t[n]=e[n].bind(t)}else{var i=e[n];if("function"!=typeof i||!e.hasOwnProperty(n))continue;t[n]=i.bind(t)}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.bindMethods=r},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){t=t||{},s.isObject(t)||(t={actionName:t});for(var e in l)if(!p[e]&&u[e])throw new Error("Cannot override API method "+e+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var n in t)if(!p[n]&&u[n])throw new Error("Cannot override API method "+n+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");t.children=t.children||[],t.asyncResult&&(t.children=t.children.concat(["completed","failed"]));for(var r=0,o={};r<t.children.length;r++){var a=t.children[r];o["string"==typeof a?a:a.actionName]=i(a)}var c=s.extend({eventLabel:"action",emitter:new s.EventEmitter,_isAction:!0},u,l,t),f=function t(){var e=!1;for(var n in t.childActions){e=!0;break}return t[!t.sync&&void 0!==t.sync||e?"triggerAsync":"trigger"].apply(t,arguments)};return s.extend(f,o,c),h.addAction(f),f}Object.defineProperty(e,"__esModule",{value:!0}),e.createAction=i;var o=n(1),s=r(o),a=n(21),l=r(a),c=n(12),u=r(c),f=n(11),h=r(f),p={preEmit:1,shouldEmit:1}},function(t,e,n){"use strict";function r(t){var e={init:[],preEmit:[],shouldEmit:[]},n=function t(n){var r={};return n.mixins&&n.mixins.forEach(function(e){o.extend(r,t(e))}),o.extend(r,n),Object.keys(e).forEach(function(t){n.hasOwnProperty(t)&&e[t].push(n[t])}),r}(t);return e.init.length>1&&(n.init=function(){var t=arguments;e.init.forEach(function(e){e.apply(this,t)},this)}),e.preEmit.length>1&&(n.preEmit=function(){return e.preEmit.reduce(function(t,e){var n=e.apply(this,t);return void 0===n?t:[n]}.bind(this),arguments)}),e.shouldEmit.length>1&&(n.shouldEmit=function(){var t=arguments;return!e.shouldEmit.some(function(e){return!e.apply(this,t)},this)}),Object.keys(e).forEach(function(t){1===e[t].length&&(n[t]=e[t][0])}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.mix=r;var i=n(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i)},function(t,e,n){var r=n(13);if(r.defineReact=n(49),r.utils.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},"undefined"!=typeof React&&React)r.defineReact(React);else try{var i=n(2);r.defineReact(i)}catch(t){}},function(t,e,n){var r=n(4),i=n(14),o=n(1);t.exports=function(t,e){return o.throwIf(void 0===e,"Reflux.connect() requires a key."),{getInitialState:function(){return o.isFunction(t.getInitialState)?o.object([e],[t.getInitialState()]):{}},componentDidMount:function(){var n=this;o.extend(n,r),this.listenTo(t,function(t){n.setState(o.object([e],[t]))})},componentWillUnmount:i.componentWillUnmount}}},function(t,e,n){var r=n(4),i=n(14),o=n(1);t.exports=function(t,e,n){return o.throwIf(o.isFunction(e),"Reflux.connectFilter() requires a key."),{getInitialState:function(){if(!o.isFunction(t.getInitialState))return{};var r=n.call(this,t.getInitialState());return void 0!==r?o.object([e],[r]):{}},componentDidMount:function(){var i=this;o.extend(this,r),this.listenTo(t,function(t){var r=n.call(i,t);i.setState(o.object([e],[r]))})},componentWillUnmount:i.componentWillUnmount}}},function(t,e,n){function r(t,e,n){var c,u;try{s=t||s||React,u=n||s.Component}catch(t){return}if(s&&u&&(!l||n)){var f=function(t,e,n){u.call(this,t,e,n)};if(a.utils.inherits(f,u),c=f.prototype,c.storeKeys=null,c.componentWillMount=function(){if(this.store&&(Array.isArray(this.stores)?this.stores.unshift(this.store):this.stores=[this.store]),this.stores){this.__storeunsubscribes__=this.__storeunsubscribes__||[];for(var t=this.setState.bind(this),e=function(e){var n=i(this.storeKeys,e);n&&t(n)}.bind(this),n=0,r=this.stores.length;n<r;n++){var o=this.stores[n];if("function"==typeof o){var s=o.id;if(o.singleton||(o.singleton=new o,s&&(a.stores[s]=o.singleton)),this.stores[n]=o=o.singleton,o.id=s,s&&a.GlobalState[s]){for(var l in a.GlobalState[s])o.state[l]=a.GlobalState[s][l];a.GlobalState[s]=o.state}else s&&(a.GlobalState[s]=o.state)}a.serverMode||this.__storeunsubscribes__.push(o.listen(e));var c=i(this.storeKeys,o.state);c&&this.setState(c)}}this.__readytomap__=!0;var u=this.__delayedmaps__;if(u)for(var f=0,h=u.length;f<h;f++)u[f].func(u[f].state);this.__delayedmaps__=null},c.componentWillUnmount=function(){if(this.__storeunsubscribes__)for(var t=0,e=this.__storeunsubscribes__.length;t<e;t++)this.__storeunsubscribes__[t]();this.__readytomap__=!1},c.mapStoreToState=function(t,e){function n(t){var n=e.call(r,t);if(n){var i=!1;for(var o in n){i=!0;break}i&&r.setState(n)}}"function"==typeof t&&(t=t.singleton?t.singleton:a.initStore(t));var r=this;this.__storeunsubscribes__=this.__storeunsubscribes__||[],this.__storeunsubscribes__.push(t.listen(n)),this.__readytomap__?n(t.state):(this.__delayedmaps__=this.__delayedmaps__||[],this.__delayedmaps__.push({func:n,state:t.state}))},f.extend=function(t){return r(null,null,t)},n)return f;a.Component=f,s.PureComponent&&(a.PureComponent=f.extend(s.PureComponent));var h=function(){this.__store__=a.createStore(),this.state={};var t=this;for(var e in this.__store__)!function(e){Object.defineProperty(t,e,{get:function(){return t.__store__[e]},set:function(n){t.__store__[e]=n}})}(e)};c=h.prototype,Object.defineProperty(c,"listenables",{get:function(){return this.__listenables__},set:function(t){var e={};Array.isArray(t)?t.forEach(function(t){for(var n in t)e[n]=t[n]}):e=t,this.__listenables__=e,this.listenToMany(e)},enumerable:!0,configurable:!0}),c.setState=function(t){for(var e in t)this.state[e]=t[e];this.id&&(a.GlobalState[this.id]=this.state),this.trigger(t)},Object.defineProperty(h,"isES6Store",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(h,"state",{get:function(){if(!this.singleton)throw new Error("Reflux.Store.state is inaccessible before the store has been initialized.");return this.singleton.state},enumerable:!0,configurable:!0}),a.Store=h,a.GlobalState=a.GlobalState||{},a.stores={},a.getGlobalState=function(){return o(a.GlobalState)},a.setGlobalState=function(t){for(var e in t)a.stores[e]?a.stores[e].setState(t[e]):a.GlobalState[e]=t[e]},a.initializeGlobalStore=a.initStore=function(t){var e=t.id;if(t.singleton)return t.singleton;if(!e)return t.singleton=new t,t.singleton;var n=t.singleton=new t;if(a.stores[e]=n,n.id=e,a.GlobalState[e]){for(var r in a.GlobalState[e])n.state[r]=a.GlobalState[e][r];a.GlobalState[e]=n.state}else a.GlobalState[e]=n.state;return n},l=!0}}function i(t,e){if(!t)return e;for(var n=!1,r={},i=0,o=t.length;i<o;i++){var s=t[i];e.hasOwnProperty(s)&&(n=!0,r[s]=e[s])}return!!n&&r}function o(t,e){if(null===t||"object"!=typeof t)return t;if(t.constructor!==Object&&t.constructor!==Array)return t;if(t.constructor===Date||t.constructor===RegExp||t.constructor===Function||t.constructor===String||t.constructor===Number||t.constructor===Boolean)return new t.constructor(t);e=e||new t.constructor;for(var n in t)e[n]=void 0===e[n]?o(t[n],null):e[n];return e}var s,a=n(13),l=!1;t.exports=r},function(t,e,n){var r=n(4);t.exports=function(t,e,n){return{componentDidMount:function(){for(var i in r)if(this[i]!==r[i]){if(this[i])throw"Can't have other property '"+i+"' when using Reflux.listenTo!";this[i]=r[i]}this.listenTo(t,e,n)},componentWillUnmount:r.stopListeningToAll}}},function(t,e,n){var r=n(4);t.exports=function(t){return{componentDidMount:function(){for(var e in r)if(this[e]!==r[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenToMany!";this[e]=r[e]}this.listenToMany(t)},componentWillUnmount:r.stopListeningToAll}}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),k(r.showHidden)&&(r.showHidden=!1),k(r.depth)&&(r.depth=2),k(r.colors)&&(r.colors=!1),k(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,n,r){if(t.customInspect&&n&&M(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=l(t,i,r)),i}var o=c(t,n);if(o)return o;var s=Object.keys(n),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(M(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return u(n)}var y="",b=!1,_=["{","}"];if(d(n)&&(b=!0,_=["[","]"]),M(n)){y=" [Function"+(n.name?": "+n.name:"")+"]"}if(w(n)&&(y=" "+RegExp.prototype.toString.call(n)),E(n)&&(y=" "+Date.prototype.toUTCString.call(n)),S(n)&&(y=" "+u(n)),0===s.length&&(!b||0==n.length))return _[0]+y+_[1];if(r<0)return w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var k;return k=b?f(t,n,r,g,s):s.map(function(e){return h(t,n,r,g,e,b)}),t.seen.pop(),p(k,y,_)}function c(t,e){if(k(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return b(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)C(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),C(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=v(n)?l(t,c.value,null):l(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),k(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return null==t}function b(t){return"number"==typeof t}function m(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function k(t){return void 0===t}function w(t){return x(t)&&"[object RegExp]"===j(t)}function x(t){return"object"==typeof t&&null!==t}function E(t){return x(t)&&"[object Date]"===j(t)}function S(t){return x(t)&&("[object Error]"===j(t)||t instanceof Error)}function M(t){return"function"==typeof t}function T(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function j(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function A(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])v(a)||!x(a)?s+=" "+a:s+=" "+i(a);return s},e.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(k(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var s=!1;return o};var P,N={};e.debuglog=function(t){if(k(P)&&(P=n.i({NODE_ENV:"production"}).NODE_DEBUG||""),t=t.toUpperCase(),!N[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){var i=r.pid;N[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,n)}}else N[t]=function(){};return N[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=y,e.isNumber=b,e.isString=m,e.isSymbol=_,e.isUndefined=k,e.isRegExp=w,e.isObject=x,e.isDate=E,e.isError=S,e.isFunction=M,e.isPrimitive=T,e.isBuffer=n(53);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",A(),e.format.apply(e,arguments))},e.inherits=n(52),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(55),n(40))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])});